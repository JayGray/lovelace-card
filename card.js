const t="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,e=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},n=`{{lit-${String(Math.random()).slice(2)}}}`,r=`\x3c!--${n}--\x3e`,i=new RegExp(`${n}|${r}`);class s{constructor(t,e){this.parts=[],this.element=e;const r=[],s=[],a=document.createTreeWalker(e.content,133,null,!1);let l=0,h=-1,p=0;const{strings:d,values:{length:f}}=t;for(;p<f;){const t=a.nextNode();if(null!==t){if(h++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)o(e[t].name,"$lit$")&&r++;for(;r-- >0;){const e=d[p],n=c.exec(e)[2],r=n.toLowerCase()+"$lit$",s=t.getAttribute(r);t.removeAttribute(r);const o=s.split(i);this.parts.push({type:"attribute",index:h,name:n,strings:o}),p+=o.length-1}}"TEMPLATE"===t.tagName&&(s.push(t),a.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(n)>=0){const n=t.parentNode,s=e.split(i),a=s.length-1;for(let e=0;e<a;e++){let r,i=s[e];if(""===i)r=u();else{const t=c.exec(i);null!==t&&o(t[2],"$lit$")&&(i=i.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),r=document.createTextNode(i)}n.insertBefore(r,t),this.parts.push({type:"node",index:++h})}""===s[a]?(n.insertBefore(u(),t),r.push(t)):t.data=s[a],p+=a}}else if(8===t.nodeType)if(t.data===n){const e=t.parentNode;null!==t.previousSibling&&h!==l||(h++,e.insertBefore(u(),t)),l=h,this.parts.push({type:"node",index:h}),null===t.nextSibling?t.data="":(r.push(t),h--),p++}else{let e=-1;for(;-1!==(e=t.data.indexOf(n,e+1));)this.parts.push({type:"node",index:-1}),p++}}else a.currentNode=s.pop()}for(const t of r)t.parentNode.removeChild(t)}}const o=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},a=t=>-1!==t.index,u=()=>document.createComment(""),c=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function l(t,e){const{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,133,null,!1);let s=p(r),o=r[s],a=-1,u=0;const c=[];let l=null;for(;i.nextNode();){a++;const t=i.currentNode;for(t.previousSibling===l&&(l=null),e.has(t)&&(c.push(t),null===l&&(l=t)),null!==l&&u++;void 0!==o&&o.index===a;)o.index=null!==l?-1:o.index-u,s=p(r,s),o=r[s]}c.forEach((t=>t.parentNode.removeChild(t)))}const h=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,133,null,!1);for(;n.nextNode();)e++;return e},p=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(a(e))return n}return-1};const d=new WeakMap,f=t=>"function"==typeof t&&d.has(t),y={},v={};class _{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const e=t?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let s,o=0,u=0,c=i.nextNode();for(;o<r.length;)if(s=r[o],a(s)){for(;u<s.index;)u++,"TEMPLATE"===c.nodeName&&(n.push(c),i.currentNode=c.content),null===(c=i.nextNode())&&(i.currentNode=n.pop(),c=i.nextNode());if("node"===s.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(c.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(c,s.name,s.strings,this.options));o++}else this.__parts.push(void 0),o++;return t&&(document.adoptNode(e),customElements.upgrade(e)),e}}const g=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),m=` ${n} `;class b{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",i=!1;for(let s=0;s<t;s++){const t=this.strings[s],o=t.lastIndexOf("\x3c!--");i=(o>-1||i)&&-1===t.indexOf("--\x3e",o+1);const a=c.exec(t);e+=null===a?t+(i?m:r):t.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+n}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==g&&(e=g.createHTML(e)),t.innerHTML=e,t}}const S=t=>null===t||!("object"==typeof t||"function"==typeof t),w=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class j{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new x(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!w(t))return t}let r="";for(let i=0;i<e;i++){r+=t[i];const e=n[i];if(void 0!==e){const t=e.value;if(S(t)||!w(t))r+="string"==typeof t?t:String(t);else for(const e of t)r+="string"==typeof e?e:String(e)}}return r+=t[e],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class x{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===y||S(t)&&t===this.value||(this.value=t,f(t)||(this.committer.dirty=!0))}commit(){for(;f(this.value);){const t=this.value;this.value=y,t(this)}this.value!==y&&this.committer.commit()}}class P{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(u()),this.endNode=t.appendChild(u())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=u()),t.__insert(this.endNode=u())}insertAfterPart(t){t.__insert(this.startNode=u()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;f(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=y,t(this)}const t=this.__pendingValue;t!==y&&(S(t)?t!==this.value&&this.__commitText(t):t instanceof b?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):w(t)?this.__commitIterable(t):t===v?(this.value=v,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof _&&this.value.template===e)this.value.update(t.values);else{const n=new _(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const i of t)n=e[r],void 0===n&&(n=new P(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(i),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){e(this.startNode.parentNode,t.nextSibling,this.endNode)}}class A{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;f(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=y,t(this)}if(this.__pendingValue===y)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=y}}class O extends j{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new N(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class N extends x{}let C=!1;(()=>{try{const t={get capture(){return C=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class T{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;f(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=y,t(this)}if(this.__pendingValue===y)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=E(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=y}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const E=t=>t&&(C?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);function k(t){let e=M.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},M.set(t.type,e));let r=e.stringsArray.get(t.strings);if(void 0!==r)return r;const i=t.strings.join(n);return r=e.keyString.get(i),void 0===r&&(r=new s(t,t.getTemplateElement()),e.keyString.set(i,r)),e.stringsArray.set(t.strings,r),r}const M=new Map,V=new WeakMap;const $=new class{handleAttributeExpressions(t,e,n,r){const i=e[0];if("."===i){return new O(t,e.slice(1),n).parts}if("@"===i)return[new T(t,e.slice(1),r.eventContext)];if("?"===i)return[new A(t,e.slice(1),n)];return new j(t,e,n).parts}handleTextExpression(t){return new P(t)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const z=(t,...e)=>new b(t,e,"html",$),U=(t,e)=>`${t}--${e}`;let I=!0;void 0===window.ShadyCSS?I=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),I=!1);const R=t=>e=>{const r=U(e.type,t);let i=M.get(r);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},M.set(r,i));let o=i.stringsArray.get(e.strings);if(void 0!==o)return o;const a=e.strings.join(n);if(o=i.keyString.get(a),void 0===o){const n=e.getTemplateElement();I&&window.ShadyCSS.prepareTemplateDom(n,t),o=new s(e,n),i.keyString.set(a,o)}return i.stringsArray.set(e.strings,o),o},F=["html","svg"],L=new Set,q=(t,e,n)=>{L.add(t);const r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:s}=i;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(r,t);const o=document.createElement("style");for(let t=0;t<s;t++){const e=i[t];e.parentNode.removeChild(e),o.textContent+=e.textContent}(t=>{F.forEach((e=>{const n=M.get(U(e,t));void 0!==n&&n.keyString.forEach((t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach((t=>{n.add(t)})),l(t,n)}))}))})(t);const a=r.content;n?function(t,e,n=null){const{element:{content:r},parts:i}=t;if(null==n)return void r.appendChild(e);const s=document.createTreeWalker(r,133,null,!1);let o=p(i),a=0,u=-1;for(;s.nextNode();)for(u++,s.currentNode===n&&(a=h(e),n.parentNode.insertBefore(e,n));-1!==o&&i[o].index===u;){if(a>0){for(;-1!==o;)i[o].index+=a,o=p(i,o);return}o=p(i,o)}}(n,o,a.firstChild):a.insertBefore(o,a.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);const u=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)e.insertBefore(u.cloneNode(!0),e.firstChild);else if(n){a.insertBefore(o,a.firstChild);const t=new Set;t.add(o),l(n,t)}};window.JSCompiler_renameProperty=(t,e)=>t;const B={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},D=(t,e)=>e!==t&&(e==e||t==t),H={attribute:!0,type:String,converter:B,reflect:!1,hasChanged:D};class W extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach(((e,n)=>{const r=this._attributeNameForProperty(n,e);void 0!==r&&(this._attributeToPropertyMap.set(r,n),t.push(r))})),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach(((t,e)=>this._classProperties.set(e,t)))}}static createProperty(t,e=H){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():`__${t}`,r=this.getPropertyDescriptor(t,n,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(r){const i=this[t];this[e]=r,this.requestUpdateInternal(t,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||H}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=D){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,r=e.converter||B,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,r=e.converter;return(r&&r.toAttribute||B.toAttribute)(t,n)}initialize(){this._updateState=0,this._updatePromise=new Promise((t=>this._enableUpdatingResolver=t)),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach(((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}}))}_applyInstanceProperties(){this._instanceProperties.forEach(((t,e)=>this[e]=t)),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=H){const r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){const t=r._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(i):this.setAttribute(i,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){const t=n.getPropertyOptions(r);this._updateState=16|this._updateState,this[r]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,e,n){let r=!0;if(void 0!==t){const i=this.constructor;n=n||i.getPropertyOptions(t),i._valueHasChanged(this[t],e,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):r=!1}!this._hasRequestedUpdate&&r&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach(((t,e)=>this._propertyToAttribute(e,this[e],t))),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}W.finalized=!0;const J=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,G=Symbol();class Y{constructor(t,e){if(e!==G)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(J?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const K=(t,...e)=>{const n=e.reduce(((e,n,r)=>e+(t=>{if(t instanceof Y)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[r+1]),t[0]);return new Y(n,G)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const Q={};class X extends W{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(Array.isArray(t)){const e=(t,n)=>t.reduceRight(((t,n)=>Array.isArray(n)?e(n,t):(t.add(n),t)),n),n=e(t,new Set),r=[];n.forEach((t=>r.unshift(t))),this._styles=r}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map((t=>{if(t instanceof CSSStyleSheet&&!J){const e=Array.prototype.slice.call(t.cssRules).reduce(((t,e)=>t+e.cssText),"");return new Y(String(e),G)}return t}))}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?J?this.renderRoot.adoptedStyleSheets=t.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map((t=>t.cssText)),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==Q&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach((t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)})))}render(){return Q}}X.finalized=!0,X.render=(t,n,r)=>{if(!r||"object"!=typeof r||!r.scopeName)throw new Error("The `scopeName` option is required.");const i=r.scopeName,s=V.has(n),o=I&&11===n.nodeType&&!!n.host,a=o&&!L.has(i),u=a?document.createDocumentFragment():n;if(((t,n,r)=>{let i=V.get(n);void 0===i&&(e(n,n.firstChild),V.set(n,i=new P(Object.assign({templateFactory:k},r))),i.appendInto(n)),i.setValue(t),i.commit()})(t,u,Object.assign({templateFactory:R(i)},r)),a){const t=V.get(u);V.delete(u);const r=t.value instanceof _?t.value.template:void 0;q(i,u,r),e(n,n.firstChild),n.appendChild(u),V.set(n,t)}!s&&o&&window.ShadyCSS.styleElement(n.host)};var Z="object"==typeof global&&global&&global.Object===Object&&global,tt="object"==typeof self&&self&&self.Object===Object&&self,et=Z||tt||Function("return this")(),nt=et.Symbol,rt=Object.prototype,it=rt.hasOwnProperty,st=rt.toString,ot=nt?nt.toStringTag:void 0;var at=Object.prototype.toString;var ut=nt?nt.toStringTag:void 0;function ct(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ut&&ut in Object(t)?function(t){var e=it.call(t,ot),n=t[ot];try{t[ot]=void 0;var r=!0}catch(t){}var i=st.call(t);return r&&(e?t[ot]=n:delete t[ot]),i}(t):function(t){return at.call(t)}(t)}function lt(t){return null!=t&&"object"==typeof t}function ht(t){return"symbol"==typeof t||lt(t)&&"[object Symbol]"==ct(t)}function pt(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var dt=Array.isArray,ft=nt?nt.prototype:void 0,yt=ft?ft.toString:void 0;function vt(t){if("string"==typeof t)return t;if(dt(t))return pt(t,vt)+"";if(ht(t))return yt?yt.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}var _t=/\s/;var gt=/^\s+/;function mt(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&_t.test(t.charAt(e)););return e}(t)+1).replace(gt,""):t}function bt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var St=/^[-+]0x[0-9a-f]+$/i,wt=/^0b[01]+$/i,jt=/^0o[0-7]+$/i,xt=parseInt;function Pt(t){return t?Infinity===(t=function(t){if("number"==typeof t)return t;if(ht(t))return NaN;if(bt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=bt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=mt(t);var n=wt.test(t);return n||jt.test(t)?xt(t.slice(2),n?2:8):St.test(t)?NaN:+t}(t))||-Infinity===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function At(t){return t}function Ot(t){if(!bt(t))return!1;var e=ct(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Nt,Ct=et["__core-js_shared__"],Tt=(Nt=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Nt:"";var Et=Function.prototype.toString;function kt(t){if(null!=t){try{return Et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Mt=/^\[object .+?Constructor\]$/,Vt=Function.prototype,$t=Object.prototype,zt=Vt.toString,Ut=$t.hasOwnProperty,It=RegExp("^"+zt.call(Ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rt(t){return!(!bt(t)||(e=t,Tt&&Tt in e))&&(Ot(t)?It:Mt).test(kt(t));var e}function Ft(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Rt(n)?n:void 0}var Lt=Ft(et,"WeakMap");function qt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Bt=Date.now;var Dt,Ht,Wt,Jt=function(){try{var t=Ft(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Gt=(Dt=Jt?function(t,e){return Jt(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:At,Ht=0,Wt=0,function(){var t=Bt(),e=16-(t-Wt);if(Wt=t,e>0){if(++Ht>=800)return arguments[0]}else Ht=0;return Dt.apply(void 0,arguments)}),Yt=/^(?:0|[1-9]\d*)$/;function Kt(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Yt.test(t))&&t>-1&&t%1==0&&t<e}function Qt(t,e){return t===e||t!=t&&e!=e}var Xt=Math.max;function Zt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function te(t){return null!=t&&Zt(t.length)&&!Ot(t)}function ee(t,e,n){if(!bt(n))return!1;var r=typeof e;return!!("number"==r?te(n)&&Kt(e,n.length):"string"==r&&e in n)&&Qt(n[e],t)}var ne=Object.prototype;function re(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ne)}function ie(t){return lt(t)&&"[object Arguments]"==ct(t)}var se=Object.prototype,oe=se.hasOwnProperty,ae=se.propertyIsEnumerable,ue=ie(function(){return arguments}())?ie:function(t){return lt(t)&&oe.call(t,"callee")&&!ae.call(t,"callee")};var ce="object"==typeof exports&&exports&&!exports.nodeType&&exports,le=ce&&"object"==typeof module&&module&&!module.nodeType&&module,he=le&&le.exports===ce?et.Buffer:void 0,pe=(he?he.isBuffer:void 0)||function(){return!1},de={};function fe(t){return function(e){return t(e)}}de["[object Float32Array]"]=de["[object Float64Array]"]=de["[object Int8Array]"]=de["[object Int16Array]"]=de["[object Int32Array]"]=de["[object Uint8Array]"]=de["[object Uint8ClampedArray]"]=de["[object Uint16Array]"]=de["[object Uint32Array]"]=!0,de["[object Arguments]"]=de["[object Array]"]=de["[object ArrayBuffer]"]=de["[object Boolean]"]=de["[object DataView]"]=de["[object Date]"]=de["[object Error]"]=de["[object Function]"]=de["[object Map]"]=de["[object Number]"]=de["[object Object]"]=de["[object RegExp]"]=de["[object Set]"]=de["[object String]"]=de["[object WeakMap]"]=!1;var ye="object"==typeof exports&&exports&&!exports.nodeType&&exports,ve=ye&&"object"==typeof module&&module&&!module.nodeType&&module,_e=ve&&ve.exports===ye&&Z.process,ge=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||_e&&_e.binding&&_e.binding("util")}catch(t){}}(),me=ge&&ge.isTypedArray,be=me?fe(me):function(t){return lt(t)&&Zt(t.length)&&!!de[ct(t)]},Se=Object.prototype.hasOwnProperty;function we(t,e){var n=dt(t),r=!n&&ue(t),i=!n&&!r&&pe(t),s=!n&&!r&&!i&&be(t),o=n||r||i||s,a=o?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=a.length;for(var c in t)!e&&!Se.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Kt(c,u))||a.push(c);return a}var je=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),xe=Object.prototype.hasOwnProperty;function Pe(t){if(!re(t))return je(t);var e=[];for(var n in Object(t))xe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ae(t){return te(t)?we(t):Pe(t)}var Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/;function Ce(t,e){if(dt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ht(t))||(Ne.test(t)||!Oe.test(t)||null!=e&&t in Object(e))}var Te=Ft(Object,"create");var Ee=Object.prototype.hasOwnProperty;var ke=Object.prototype.hasOwnProperty;function Me(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ve(t,e){for(var n=t.length;n--;)if(Qt(t[n][0],e))return n;return-1}Me.prototype.clear=function(){this.__data__=Te?Te(null):{},this.size=0},Me.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Me.prototype.get=function(t){var e=this.__data__;if(Te){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(e,t)?e[t]:void 0},Me.prototype.has=function(t){var e=this.__data__;return Te?void 0!==e[t]:ke.call(e,t)},Me.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Te&&void 0===e?"__lodash_hash_undefined__":e,this};var $e=Array.prototype.splice;function ze(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ze.prototype.clear=function(){this.__data__=[],this.size=0},ze.prototype.delete=function(t){var e=this.__data__,n=Ve(e,t);return!(n<0)&&(n==e.length-1?e.pop():$e.call(e,n,1),--this.size,!0)},ze.prototype.get=function(t){var e=this.__data__,n=Ve(e,t);return n<0?void 0:e[n][1]},ze.prototype.has=function(t){return Ve(this.__data__,t)>-1},ze.prototype.set=function(t,e){var n=this.__data__,r=Ve(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Ue=Ft(et,"Map");function Ie(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Re(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Re.prototype.clear=function(){this.size=0,this.__data__={hash:new Me,map:new(Ue||ze),string:new Me}},Re.prototype.delete=function(t){var e=Ie(this,t).delete(t);return this.size-=e?1:0,e},Re.prototype.get=function(t){return Ie(this,t).get(t)},Re.prototype.has=function(t){return Ie(this,t).has(t)},Re.prototype.set=function(t,e){var n=Ie(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Fe(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Fe.Cache||Re),n}Fe.Cache=Re;var Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qe=/\\(\\)?/g,Be=function(t){var e=Fe(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Le,(function(t,n,r,i){e.push(r?i.replace(qe,"$1"):n||t)})),e}));function De(t,e){return dt(t)?t:Ce(t,e)?[t]:Be(function(t){return null==t?"":vt(t)}(t))}function He(t){if("string"==typeof t||ht(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function We(t,e){for(var n=0,r=(e=De(e,t)).length;null!=t&&n<r;)t=t[He(e[n++])];return n&&n==r?t:void 0}function Je(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Ge=nt?nt.isConcatSpreadable:void 0;function Ye(t){return dt(t)||ue(t)||!!(Ge&&t&&t[Ge])}function Ke(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=Ye),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?Ke(a,e-1,n,r,i):Je(i,a):r||(i[i.length]=a)}return i}var Qe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Xe(t){var e=this.__data__=new ze(t);this.size=e.size}Xe.prototype.clear=function(){this.__data__=new ze,this.size=0},Xe.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Xe.prototype.get=function(t){return this.__data__.get(t)},Xe.prototype.has=function(t){return this.__data__.has(t)},Xe.prototype.set=function(t,e){var n=this.__data__;if(n instanceof ze){var r=n.__data__;if(!Ue||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Re(r)}return n.set(t,e),this.size=n.size,this};var Ze=Object.prototype.propertyIsEnumerable,tn=Object.getOwnPropertySymbols,en=tn?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}(tn(t),(function(e){return Ze.call(t,e)})))}:function(){return[]};function nn(t){return function(t,e,n){var r=e(t);return dt(t)?r:Je(r,n(t))}(t,Ae,en)}var rn=Ft(et,"DataView"),sn=Ft(et,"Promise"),on=Ft(et,"Set"),an=kt(rn),un=kt(Ue),cn=kt(sn),ln=kt(on),hn=kt(Lt),pn=ct;(rn&&"[object DataView]"!=pn(new rn(new ArrayBuffer(1)))||Ue&&"[object Map]"!=pn(new Ue)||sn&&"[object Promise]"!=pn(sn.resolve())||on&&"[object Set]"!=pn(new on)||Lt&&"[object WeakMap]"!=pn(new Lt))&&(pn=function(t){var e=ct(t),n="[object Object]"==e?t.constructor:void 0,r=n?kt(n):"";if(r)switch(r){case an:return"[object DataView]";case un:return"[object Map]";case cn:return"[object Promise]";case ln:return"[object Set]";case hn:return"[object WeakMap]"}return e});var dn=pn,fn=et.Uint8Array;function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Re;++e<n;)this.add(t[e])}function vn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}yn.prototype.add=yn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},yn.prototype.has=function(t){return this.__data__.has(t)};function _n(t,e,n,r,i,s){var o=1&n,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(t),l=s.get(e);if(c&&l)return c==e&&l==t;var h=-1,p=!0,d=2&n?new yn:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var f=t[h],y=e[h];if(r)var v=o?r(y,f,h,e,t,s):r(f,y,h,t,e,s);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!vn(e,(function(t,e){if(o=e,!d.has(o)&&(f===t||i(f,t,n,r,s)))return d.push(e);var o}))){p=!1;break}}else if(f!==y&&!i(f,y,n,r,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function gn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function mn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var bn=nt?nt.prototype:void 0,Sn=bn?bn.valueOf:void 0;var wn=Object.prototype.hasOwnProperty;var jn="[object Object]",xn=Object.prototype.hasOwnProperty;function Pn(t,e,n,r,i,s){var o=dt(t),a=dt(e),u=o?"[object Array]":dn(t),c=a?"[object Array]":dn(e),l=(u="[object Arguments]"==u?jn:u)==jn,h=(c="[object Arguments]"==c?jn:c)==jn,p=u==c;if(p&&pe(t)){if(!pe(e))return!1;o=!0,l=!1}if(p&&!l)return s||(s=new Xe),o||be(t)?_n(t,e,n,r,i,s):function(t,e,n,r,i,s,o){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new fn(t),new fn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Qt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=gn;case"[object Set]":var u=1&r;if(a||(a=mn),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var l=_n(a(t),a(e),r,i,s,o);return o.delete(t),l;case"[object Symbol]":if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,u,n,r,i,s);if(!(1&n)){var d=l&&xn.call(t,"__wrapped__"),f=h&&xn.call(e,"__wrapped__");if(d||f){var y=d?t.value():t,v=f?e.value():e;return s||(s=new Xe),i(y,v,n,r,s)}}return!!p&&(s||(s=new Xe),function(t,e,n,r,i,s){var o=1&n,a=nn(t),u=a.length;if(u!=nn(e).length&&!o)return!1;for(var c=u;c--;){var l=a[c];if(!(o?l in e:wn.call(e,l)))return!1}var h=s.get(t),p=s.get(e);if(h&&p)return h==e&&p==t;var d=!0;s.set(t,e),s.set(e,t);for(var f=o;++c<u;){var y=t[l=a[c]],v=e[l];if(r)var _=o?r(v,y,l,e,t,s):r(y,v,l,t,e,s);if(!(void 0===_?y===v||i(y,v,n,r,s):_)){d=!1;break}f||(f="constructor"==l)}if(d&&!f){var g=t.constructor,m=e.constructor;g==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,n,r,i,s))}function An(t,e,n,r,i){return t===e||(null==t||null==e||!lt(t)&&!lt(e)?t!=t&&e!=e:Pn(t,e,n,r,An,i))}function On(t){return t==t&&!bt(t)}function Nn(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Cn(t){var e=function(t){for(var e=Ae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,On(i)]}return e}(t);return 1==e.length&&e[0][2]?Nn(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,s=i,o=!r;if(null==t)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){var u=(a=n[i])[0],c=t[u],l=a[1];if(o&&a[2]){if(void 0===c&&!(u in t))return!1}else{var h=new Xe;if(r)var p=r(c,l,u,t,e,h);if(!(void 0===p?An(l,c,3,r,h):p))return!1}}return!0}(n,t,e)}}function Tn(t,e){return null!=t&&e in Object(t)}function En(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=De(e,t)).length,s=!1;++r<i;){var o=He(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&Zt(i)&&Kt(o,i)&&(dt(t)||ue(t))}(t,e,Tn)}function kn(t,e){return Ce(t)&&On(e)?Nn(He(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:We(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?En(n,t):An(e,r,3)}}function Mn(t){return function(e){return null==e?void 0:e[t]}}function Vn(t){return Ce(t)?Mn(He(t)):function(t){return function(e){return We(e,t)}}(t)}function $n(t){return"function"==typeof t?t:null==t?At:"object"==typeof t?dt(t)?kn(t[0],t[1]):Cn(t):Vn(t)}var zn,Un=function(t,e,n){for(var r=-1,i=Object(t),s=n(t),o=s.length;o--;){var a=s[zn?o:++r];if(!1===e(i[a],a,i))break}return t};var In=function(t,e){return function(n,r){if(null==n)return n;if(!te(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}((function(t,e){return t&&Un(t,e,Ae)}));function Rn(t,e){var n=-1,r=te(t)?Array(t.length):[];return In(t,(function(t,i,s){r[++n]=e(t,i,s)})),r}var Fn=Object.prototype.hasOwnProperty;function Ln(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,s=ht(t),o=void 0!==e,a=null===e,u=e==e,c=ht(e);if(!a&&!c&&!s&&t>e||s&&o&&u&&!a&&!c||r&&o&&u||!n&&u||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!u)return-1}return 0}function qn(t,e,n){e=e.length?pt(e,(function(t){return dt(t)?function(e){return We(e,1===t.length?t[0]:t)}:t})):[At];var r=-1;return e=pt(e,fe($n)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Rn(t,(function(t,n,i){return{criteria:pt(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var u=Ln(i[r],s[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}var Bn=Mn("length"),Dn="[\\ud800-\\udfff]",Hn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Wn="\\ud83c[\\udffb-\\udfff]",Jn="[^\\ud800-\\udfff]",Gn="(?:\\ud83c[\\udde6-\\uddff]){2}",Yn="[\\ud800-\\udbff][\\udc00-\\udfff]",Kn="(?:"+Hn+"|"+Wn+")"+"?",Qn="[\\ufe0e\\ufe0f]?"+Kn+("(?:\\u200d(?:"+[Jn,Gn,Yn].join("|")+")[\\ufe0e\\ufe0f]?"+Kn+")*"),Xn="(?:"+[Jn+Hn+"?",Hn,Gn,Yn,Dn].join("|")+")",Zn=RegExp(Wn+"(?="+Wn+")|"+Xn+Qn,"g");function tr(t){return function(t){return Qe.test(t)}(t)?function(t){for(var e=Zn.lastIndex=0;Zn.test(t);)++e;return e}(t):Bn(t)}function er(t){if(null==t)return 0;if(te(t))return"string"==typeof(e=t)||!dt(e)&&lt(e)&&"[object String]"==ct(e)?tr(t):t.length;var e,n=dn(t);return"[object Map]"==n||"[object Set]"==n?t.size:Pe(t).length}var nr=function(t,e){return Gt(function(t,e,n){return e=Xt(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Xt(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),qt(t,this,a)}}(t,e,At),t+"")}((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ee(t,e[0],e[1])?e=[]:n>2&&ee(e[0],e[1],e[2])&&(e=[e[0]]),qn(t,Ke(e,1),[])}));function rr(t,e,n){return t&&t.length?function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}(t,0,(e=n||void 0===e?1:(r=Pt(e),i=r%1,r==r?i?r-i:r:0))<0?0:e):[];var r,i}const ir=K`
  @keyframes spinner-rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes spinner-dash {
    0% {
      stroke-dasharray: 1, 200;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 90, 200;
      stroke-dashoffset: -35px;
    }
    100% {
      stroke-dashoffset: -125px;
    }
  }

  .loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .loading svg {
    transform-origin: center;
    animation: spinner-rotate 2s linear infinite;
  }

  .loading circle {
    fill: none;
    stroke: #29d398;
    stroke-width: 3;
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: spinner-dash 1.5s ease-in-out infinite;
  }
`,sr=K`
  .stations-list {
    display: flex;
    flex: 1 0 auto;
    padding: 10px;
    flex-direction: column;
  }
  .station {
    display: flex;
    flex-direction: column;
    margin: 10px;
  }
  .station-name {
    display: flex;
    justify-content: space-between;
    font-size: 24px;
    font-weight: 400;
    letter-spacing: -0.012em;
    line-height: 32px;
    padding: 8px 0;
  }
`;function or(t){return t*(Math.PI/180)}const ar=(t,e)=>(n,r)=>{const{position:i}=r;if(!i)return n;const s=function(t,e,n,r){const i=or(n-t),s=or(r-e),o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(or(t))*Math.cos(or(n))*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371}(t,e,i.latitude,i.longitude);return s<=.5&&n.push({...r,distance:s}),n},ur="https://insa-ms.netzmap.com/api/v2/",cr=[`${ur}/lines.json`,`${ur}/stations.json`,`${ur}/platforms.json`],lr=z`
  <div class="loading">
    <svg width="60" height="60" viewBox="25 25 50 50">
      <circle cx="50" cy="50" r="20" />
    </svg>
    <span>Loading nearby stations</span>
  </div>
`;function hr(t){return z`
    <div class="stations-list">
      ${e=t,n=(t,e)=>z`
          <div class="station">
            <div class="station-name">
              <span>${e}</span>
              <ha-icon icon="mdi:bus-stop-covered" />
            </div>
            ${t.journeys.map((t=>z`
                  <span class="journey">${t.to} - ${t.text}</span>
                `))}
          </div>
        `,(dt(e)?pt:Rn)(e,$n(n))}
    </div>
  `;var e,n}document.createElement("havag-card"),customElements.define("havag-card",class extends X{constructor(t){super(t),this.meta=null,this.nearbyStations=null,this.timeoutId=null}static get properties(){return{hass:{},config:{},stations:{}}}static get styles(){return[ir,sr]}setConfig(t){t.useLocation||t.street||console.error("You need to define either `useLocation` or `street`"),this.config=t}getCardSize(){return er(this.stations)+1}async firstUpdated(){this.meta=await this._getMetadata(),this.nearbyStations=this._getNearbyStations(),this._pollDepartures()}async _getMetadata(){try{const[t,e,n]=await Promise.all(cr.map((t=>fetch(t).then((t=>t.json())))));return{lines:t,stations:e,platforms:n}}catch(t){console.error(t)}}_getNearbyStations(){const{stations:t}=this.meta,{longitude:e,latitude:n}=this.hass.config;return((t,e,n)=>{const r=ar(e,n);return t.reduce(r,[]).sort(((t,e)=>t.distance-e.distance))})(t,n,e)}async _pollDepartures(){const t=await Promise.all(this.nearbyStations.map((t=>fetch(`${ur}/stations/${t.id}/departures.json`).then((async e=>({...await e.json(),station:t}))))));this.stations=(t=>t.reduce(((t,e)=>{const n=rr(nr(e.journeys,"prognosis"),5);return t[e.station.names.common]={...e.station,journeys:n.map((t=>({to:t.line.terminus.name,text:t.prognosis_text,station:e.station})))},t}),{}))(t),this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>this._pollDepartures()),6e4)}render(){return z`
      <ha-card
        >${function(t){if(null==t)return!0;if(te(t)&&(dt(t)||"string"==typeof t||"function"==typeof t.splice||pe(t)||be(t)||ue(t)))return!t.length;var e=dn(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(re(t))return!Pe(t).length;for(var n in t)if(Fn.call(t,n))return!1;return!0}(this.stations)?lr:hr(this.stations)}</ha-card
      >
    `}}),window.havagCards=window.customCards||[],window.havagCards.push({type:"havag-card",name:"Havag Card",preview:!1,description:"A havag card made by me!"});
